<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
    <title>{% block title %}{% endblock %}</title>
    <link rel="stylesheet" href="/static/boostrap-3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="/static/base.css">
    <script type="text/javascript" src="/static/getcookie.js"></script>
    <script type="text/javascript" src="/static/jquery1.12.4.min.js"></script>
    <script type="text/javascript" src="/static/jquery.cookie.js"></script>
    <script type = 'text/javascript' src="/static/boostrap-3.3.7/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="/static/bootstrap-switch.min.js"></script>
    <link rel="stylesheet" href="/static/bootstrap-switch.min.css">
    <script type="text/javascript" src="/static/toastr.js"></script>
    <link rel="stylesheet" href="/static/toastr.css">
    {% block style %}{% endblock %}
    <style>
        #icon{
            width: 22px;
            height: 20px;
            display: inline-block;
            margin-right: 13px;
        }
        .grade_box{
            padding: 5px;
            margin-top: 10px;
            text-align: center;
        }
        .grade-box-text{
            line-height: 34px;
            margin-left: 9px;
            font-weight: bold;
        }
        .grade_container{
            border: #5bc0de 1px solid;
            border-radius: 5px;
            padding: 5px;
            padding-bottom: 10px;
        }
        .img-box{
            margin-top: 65px;
            margin-left: 65px;
        }
        .search_btn{
            float: right;
            width: 65px;
            height: 40px;
            border: 0;
            outline: none;
        }
        .id-banner{
            position: relative;
            z-index: 1;
            min-width: 1400px;
            height: 300px;
            background: url("/static/image/header_bg.jpg") no-repeat;
            background-size: 100% 100%;
        }
        .id-banner-box{
            z-index: 100;
            position: relative;
            left: 0;
            top: 0;
            height: 300px;
            width: 100%;
        }
        .id-banner-rap{
            width: 100%;
            overflow: hidden;
            height: 300px;
            margin: auto;
        }
        .img-box{
            width: 900px;
            float: left;
            height: 234px;
        }
        .banner-img1{
            width: 850px;
            height: 100px;
            margin-bottom: 25px;
            background-image: url("/static/image/header-title.png");
            background-size: 100% 100%;
            background-position: center center;
            background-repeat: no-repeat;
        }
        .banner-img2{
            height: 80px;
            margin-top: -20px;
            margin-left: 100px;
            background: url("/static/image/header-content.png");
            background-size: 100% 100%;
            background-position: center center;
            background-repeat: no-repeat;
        }
        .id-block{
            float: right;
            width: 445px;
            height: 100%;
            background: url("/static/image/building.png") no-repeat;
            background-size: cover;
        }
        .input-box{
            width: 386px;
            margin: auto;
            margin-top: 160px;
            height: 40px;
        }
        .search_input{
            outline: none;
            float: left;
            height: 40px;
            border: 0;
            width: 310px;
            background: rgba(255,255,255,0.8);
            text-indent: 10px;
        }
        .search_input:focus{
            background: rgb(255,255,255);
        }
    </style>
</head>
<body>
    <div class="id-banner">
        <div class="id-banner-box">
            <div class="id-banner-rap">
                <div class="img-box">
                    <div class="banner-img1"></div>
                    <div class="banner-img2"></div>
                </div>
                <div class="id-block">
                    <div class="input-box">
                        <input class="search_input" id="search-input" placeholder="请输入搜索关键字">
                        <button class="btn btn-primary search_btn" id="search_btn">搜索</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    {% block navigate %}{% endblock %}
    <div class="container" style="margin-top: 20px">
        <div class="row" style="margin-right: -13%; margin-left: -12%">
            <div class="col-lg-3 col-md-3">
                <div class="panel panel-primary">
                    <div class="panel-heading">
                        <text style="margin-left: 39%">控制面板</text>
                    </div>
                    <div class="panel-body">
                        <ul class="nav nav-pills nav-stacked">
                            <li role="presentation" class="{% block active_main %}{% endblock %}">
                                <a href="{% url "Main" %}"><img id="icon" src="{% block icon_src4 %}{% endblock %}">主页面</a>
                            </li>
                            <li role="presentation" class="{% block active_stu %}{% endblock %}">
                                <a href="{% url "Index" %}"><img id="icon" src="{% block icon_src %}{% endblock %}">学生信息表</a>
                            </li>
                            <li role="presentation" class="{% block active_school %}{% endblock %}">
                                <a href="{% url "SchoolTable" %}"><img id="icon" src="{% block icon_src1 %}{% endblock %}">院系表</a>
                            </li>
                            <li role="presentation" class="{% block active_teacher %}{% endblock %}">
                                <a href="{% url "TeacherTable" %}"><img id="icon" src="{% block icon_src2 %}{% endblock %}">教师表</a></li>
                            <li role="presentation" class="{% block active_lesson %}{% endblock %}">
                                <a href="{% url "LessonTable" %}"><img id="icon" src="{% block icon_src3 %}{% endblock %}">课程表</a></li>
                            <li role="presentation" class="{% block active_open_lesson %}{% endblock %}">
                                <a href="{% url "OpenTable" %}"><img id="icon" src="{% block icon_src5 %}{% endblock %}">开课表</a>
                            </li>
                            <li role="presentation" class="{% block active_select_lesson %}{% endblock %}">
                                <a href="{% url "Select_lesson" %}"><img id="icon" src="{% block icon_src6 %}{% endblock %}">选课表</a>
                            </li>
                            <li role="presentation" class="{% block note %}{% endblock %}">
                                <a href="{% url "Get_Note" %}"><img id="icon" src="{% block icon_src7 %}{% endblock %}">通知管理</a>
                            </li>
                        </ul>
                    </div>

                </div>
                <div class="panel panel-danger">
                    <div class="panel-heading">
                        <text style="margin-left: 35%">编辑系统信息</text>
                    </div>
                    <div class="panel-body">
                        {% block panel_content %}{% endblock %}
                    </div>
                </div>
                <div class="panel panel-info">
                    <div class="panel-heading" style="text-align: center">
                        <text>管理选课</text>
                    </div>
                    <div class="panel-body">
                        <div class="form-group">
                            <label class="col-sm-4" style="margin-right: 6%;line-height: 34px">选课状态</label>
                            <input type="checkbox" name="checkbox" class="checkbox">
                        </div>
                        <div class="form-group">
                            <label class="col-sm-4">当前学期</label>
                            <div class="col-sm-8">
                                <text style="font-size: 15px" id="semester_status"></text>
                            </div>
                        </div>
                        <br>
                        <button type="button" style="width: 93%;margin-left: 10px;margin-top: 18px"  id="edit_semester" class="btn btn-info">编辑当前学期</button>
                        <div class="grade_box">
                            <div class="grade_container">
                                <span class="grade-box-text">开启本学期平时成绩登录:</span>
                                <input class="checkbox_grade" type="checkbox" name="checkbox_grade">
                            </div>
                        </div>
                        <div class="grade_box">
                            <div class="grade_container">
                                <span class="grade-box-text">开启本学期考试成绩登录:</span>
                                <input class="checkbox_grade_exam" type="checkbox" name="checkbox_grade_exam">
                            </div>
                        </div>
                    </div>
                </div>
                <button type="button" style="width: 100%;height: 40px;" onclick="Logout()" class="btn btn-danger">退出登录</button>
            </div>
            <div class="col-lg-9 col-md-9 col-sm-12">
                {% block content %}{% endblock %}
            </div>
        </div>
    </div>
    <div class="modal fade" id="MyModal_start" aria-labelledby="MyModalLabel" tabindex="-1">
        <div class="modal-dialog" style="margin-top: 20%;" role="document">
            <div class="modal-content">
                <form class="form-horizontal" autocomplete="off" method="post" accept-charset="UTF-8">
                    {% csrf_token %}
                    <div class="modal-header">
                        <button class="close" data-dismiss="modal">x</button>
                        <h3>提示信息</h3>
                    </div>
                    <div class="modal-body">
                        <text style="font-size: 17px;">确认开始选课吗？</text>
                        <br>
                        <text style="color:#f30;display: inline-block;margin-top: 12px;">
                            请确认当前学期，开始后学生将可以选课
                        </text>
                    </div>
                    <div class="modal-footer">
                        <button class="btn btn-success" id="confirm_status" type="button">开始选课</button>
                        <button class="btn btn-info" data-dismiss="modal">取消</button>
                    </div>
                </form>
			</div>
        </div>
    </div>
    <div class="modal fade" id="MyModal_semester_change" aria-labelledby="MyModalLabel" tabindex="-1">
        <div class="modal-dialog" style="margin-top: 20%;" role="document">
            <div class="modal-content">
                <form class="form-horizontal" autocomplete="off" method="post" accept-charset="UTF-8">
                    {% csrf_token %}
                    <div class="modal-header">
                        <button class="close" data-dismiss="modal">x</button>
                        <h3>编辑当前学期</h3>
                    </div>
                    <div class="modal-body">
                       <div class="form-group">
                           <select id="semester_change" style="width: 36%;margin-left: 10%;" class="form-control"></select>
                       </div>
                    </div>
                    <div class="modal-footer">
                        <button class="btn btn-primary" style="width: 20%;margin-right: 50%" id="edit_semester_confirm" type="button">确认</button>
                        <button class="btn btn-info" style="width: 20%;margin-right: 4%" data-dismiss="modal">取消</button>
                    </div>
                </form>
			</div>
        </div>
    </div>
    <div class="modal fade" id="MyModal_end" aria-labelledby="MyModalLabel" tabindex="-1">
        <div class="modal-dialog" role="document" style="margin-top: 20%">
            <div class="modal-content">
                <form class="form-horizontal" autocomplete="off" method="post" accept-charset="UTF-8">
                    {% csrf_token %}
                    <div class="modal-header">
                        <button class="close" data-dismiss="modal">x</button>
                        <h3>提示信息</h3>
                    </div>
                    <div class="modal-body">
                        <text style="font-size: 17px;">确认停止选课吗？</text>
                        <br>
                        <text style="color:#f30;display: inline-block;margin-top: 12px;">
                            选课停止后学生将无法再进行选课
                        </text>
                    </div>
                    <div class="modal-footer">
                        <button class="btn btn-danger" id="stop_status" type="button">停止选课</button>
                        <button class="btn btn-info" data-dismiss="modal">取消</button>
                    </div>
                </form>
			</div>
        </div>
    </div>
     <div class="modal fade" id="MyModal_grade_start" aria-labelledby="MyModalLabel" tabindex="-1">
        <div class="modal-dialog" role="document" style="margin-top: 20%">
            <div class="modal-content">
                <form class="form-horizontal" autocomplete="off" method="post" accept-charset="UTF-8">
                    {% csrf_token %}
                    <div class="modal-header">
                        <button class="close" data-dismiss="modal">x</button>
                        <h3>提示信息</h3>
                    </div>
                    <div class="modal-body">
                        <text style="font-size: 17px;font-weight: bold">确认开始平时成绩登录吗</text>
                        <br>
                        <text style="color:#f30;display: inline-block;margin-top: 12px;">
                            开始后教师将可以登记学生平时成绩
                        </text>
                    </div>
                    <div class="modal-footer">
                        <button class="btn btn-success" id="start_grade_register" type="button">开启成绩登记</button>
                        <button class="btn btn-info" data-dismiss="modal">取消</button>
                    </div>
                </form>
			</div>
        </div>
    </div>
    <div class="modal fade" id="MyModal_grade_stop" aria-labelledby="MyModalLabel" tabindex="-1">
        <div class="modal-dialog" role="document" style="margin-top: 20%">
            <div class="modal-content">
                <form class="form-horizontal" autocomplete="off" method="post" accept-charset="UTF-8">
                    {% csrf_token %}
                    <div class="modal-header">
                        <button class="close" data-dismiss="modal">x</button>
                        <h3>提示信息</h3>
                    </div>
                    <div class="modal-body">
                        <text style="font-size: 17px;font-weight: bold">确认终止平时成绩登录吗</text>
                        <br>
                        <text style="color:#f30;display: inline-block;margin-top: 12px;">
                            终止后教师将不能再登记学生平时成绩
                        </text>
                    </div>
                    <div class="modal-footer">
                        <button class="btn btn-danger" id="stop_grade_register" type="button">终止成绩登记</button>
                        <button class="btn btn-info" data-dismiss="modal">取消</button>
                    </div>
                </form>
			</div>
        </div>
    </div>
    <div class="modal fade" id="MyModal_grade_start_exam" aria-labelledby="MyModalLabel" tabindex="-1">
        <div class="modal-dialog" role="document" style="margin-top: 20%">
            <div class="modal-content">
                <form class="form-horizontal" autocomplete="off" method="post" accept-charset="UTF-8">
                    {% csrf_token %}
                    <div class="modal-header">
                        <button class="close" data-dismiss="modal">x</button>
                        <h3>提示信息</h3>
                    </div>
                    <div class="modal-body">
                        <text style="font-size: 17px;font-weight: bold">确认开始考试成绩登录吗</text>
                        <br>
                        <text style="color:#f30;display: inline-block;margin-top: 12px;">
                            开始后教师将可以登记学生考试成绩
                        </text>
                    </div>
                    <div class="modal-footer">
                        <button class="btn btn-success" id="start_grade_register_exam" type="button">开启成绩登记</button>
                        <button class="btn btn-info" data-dismiss="modal">取消</button>
                    </div>
                </form>
			</div>
        </div>
    </div>
    <div class="modal fade" id="MyModal_grade_stop_exam" aria-labelledby="MyModalLabel" tabindex="-1">
        <div class="modal-dialog" role="document" style="margin-top: 20%">
            <div class="modal-content">
                <form class="form-horizontal" autocomplete="off" method="post" accept-charset="UTF-8">
                    {% csrf_token %}
                    <div class="modal-header">
                        <button class="close" data-dismiss="modal">x</button>
                        <h3>提示信息</h3>
                    </div>
                    <div class="modal-body">
                        <text style="font-size: 17px;font-weight: bold">确认终止考试成绩登录吗</text>
                        <br>
                        <text style="color:#f30;display: inline-block;margin-top: 12px;">
                            终止后教师将不能再登记学生考试成绩
                        </text>
                    </div>
                    <div class="modal-footer">
                        <button class="btn btn-danger" id="stop_grade_register_exam" type="button">终止成绩登记</button>
                        <button class="btn btn-info" data-dismiss="modal">取消</button>
                    </div>
                </form>
			</div>
        </div>
    </div>
    {% block modal %}{% endblock %}
    {% block script %}{% endblock %}
    <script>
        var origin_status = 0;   //页面加载时记录初始选课状态
        var origin_grade_status = 0;  //页面加载时初始成绩登陆状态
        var origin_grade_status_exam = 0;
    </script>
    <script>
        function Logout() {
            document.cookie = "role="+escape("")+";max-age="+(-1)+";Path="+escape('/');
            document.cookie = "status="+escape("")+";max-age="+(-1)+";Path="+escape('/');
            location.reload();
        }
    </script>
    <script>
        $(function () {
            $(".checkbox").bootstrapSwitch({
                onText:'正在选课',
                offText:'禁止选课',
                onColor:'success',
                offColor:'danger',
                size:'min',
                onSwitchChange:function (event, state) {
                    if (state === true){
                        if (origin_status === 0) {
                            if (document.getElementById('semester_status').innerText === ""){
                                toastr.error("请确认当前学期");
                                $("input[name='checkbox']").bootstrapSwitch("state", false)
                            }
                            else{
                                 $("#MyModal_start").modal();
                            }
                        }
                    }
                    if (state === false){
                        if (origin_status === 1){
                            $("#MyModal_end").modal();
                        }
                    }
                }
            });
            $(".checkbox_grade").bootstrapSwitch({
                onText: '已开启',
                offText: '禁止中',
                onColor: 'success',
                offColor: 'danger',
                size:'min',
                onSwitchChange:function (event,state) {
                    if (state === true){
                        if (origin_grade_status === 0){
                            $("#MyModal_grade_start").modal()
                        }
                    }
                    else{
                        if (origin_grade_status === 1){
                            $("#MyModal_grade_stop").modal()
                        }
                    }
                }
            });
            $(".checkbox_grade_exam").bootstrapSwitch({
                onText: '已开启',
                offText: '禁止中',
                onColor: 'success',
                offColor: 'danger',
                size:'min',
                onSwitchChange:function (event,state) {
                    if (state === true){
                        if (origin_grade_status_exam === 0){
                            $("#MyModal_grade_start_exam").modal()
                        }
                    }
                    else{
                        if (origin_grade_status_exam === 1){
                            $("#MyModal_grade_stop_exam").modal()
                        }
                    }
                }
            })
        })
    </script>
    <script>
        window.onload = function () {
            let data = new FormData();
            data.append('csrfmiddlewaretoken', $('[name="csrfmiddlewaretoken"]').val());
            $.ajax({
                url:'{% url 'Ensure_status' %}',
                type:'post',
                data:data,
                dataType:'json',
                processData:false,
                contentType:false,
                success(res){
                    if (res.code === 0){
                        if (res.status === 1){
                            origin_status = 1;
                            let mes = res.semester;
                            $("input[name='checkbox']").bootstrapSwitch("state", true);
                            if (res.grade === '1'){
                                 origin_grade_status = 1;
                                $("input[name='checkbox_grade']").bootstrapSwitch('state',true);
                            }
                            else{
                                $("input[name='checkbox_grade']").bootstrapSwitch('state',false);
                            }
                            if (res.grade_ks === '1'){
                                 origin_grade_status_exam = 1;
                                $("input[name='checkbox_grade_exam']").bootstrapSwitch('state',true);
                            }
                            else{
                                $("input[name='checkbox_grade_exam']").bootstrapSwitch('state',false);
                            }
                            $("#semester_status").text(mes);
                        }
                        if (res.status === 0){
                            let mes = res.semester;
                            $("#semester_status").text(mes);
                            if (res.grade === '1'){
                                origin_grade_status = 1;
                                $("input[name='checkbox_grade']").bootstrapSwitch('state',true);
                            }
                            else{
                                $("input[name='checkbox_grade']").bootstrapSwitch('state',false);
                            }
                            if (res.grade_ks === '1'){
                                origin_grade_status_exam = 1;
                                $("input[name='checkbox_grade_exam']").bootstrapSwitch('state',true);
                            }
                            else{
                                $("input[name='checkbox_grade_exam']").bootstrapSwitch('state',false);
                            }
                        }
                    }
                },
                fail() {
                    console.log('接口调用失败')
                }
            });
            let data_obj = new FormData();
            data_obj.append('csrfmiddlewaretoken', $('[name="csrfmiddlewaretoken"]').val());
            $.ajax({
                url:'{% url "Get_Status" %}',
                type:'post',
                data:data_obj,
                dataType:'json',
                processData:false,
                contentType:false,
                success(res){
                    $.each(res.result, function (key, value) {
                        $("#semester_change").append("<option>" + value["fields"]["xq"] + "</option>")
                    })
                },
                fail() {
                    console.log("调用接口失败")
                }
           })
       }
    </script>
    <script>
        $(function () {
            $("#MyModal_start").on('hidden.bs.modal', function () {
                $("input[name='checkbox']").bootstrapSwitch("state", false)
            });
            $("#MyModal_end").on('hidden.bs.modal', function () {
                $("input[name='checkbox']").bootstrapSwitch("state", true)
            });
            $("#MyModal_grade_start").on('hidden.bs.modal',function () {
               $("input[name='checkbox_grade']").bootstrapSwitch('state',false)
            });
            $("#MyModal_grade_stop").on('hidden.bs.modal',function () {
               $("input[name='checkbox_grade']").bootstrapSwitch('state',true)
            });
             $("#MyModal_grade_start_exam").on('hidden.bs.modal',function () {
               $("input[name='checkbox_grade_exam']").bootstrapSwitch('state',false)
            });
            $("#MyModal_grade_stop_exam").on('hidden.bs.modal',function () {
               $("input[name='checkbox_grade_exam']").bootstrapSwitch('state',true)
            })
        })
    </script>
    <script>
        toastr.options.positionClass = "toast-top-center";
        $("#confirm_status").click(function () {
            var data_obj = new FormData();
            var semester = document.getElementById('semester_status').innerText;
            data_obj.append('csrfmiddlewaretoken', $('[name="csrfmiddlewaretoken"]').val());
            data_obj.append('semester', semester);
            $.ajax({
                url:'{% url 'Change_status' %}',
                type:'post',
                data:data_obj,
                dataType:'json',
                processData:false,
                contentType:false,
                success(res) {
                    if (res.code === 0){
                        toastr.success("开启选课成功");
                        origin_status = 1;
                        setTimeout(function () {
                            location.reload()
                        }, 1000)
                    }
                }
            })
        });
        $("#stop_status").click(function () {
            var data_obj = new FormData();
            var semester = document.getElementById('semester_status').innerText;
            data_obj.append('csrfmiddlewaretoken', $('[name="csrfmiddlewaretoken"]').val());
            data_obj.append('semester', semester);
             $.ajax({
                url:'{% url 'Stop_status' %}',
                type:'post',
                data:data_obj,
                dataType:'json',
                processData:false,
                contentType:false,
                success(res){
                    if (res.code === 0){
                        origin_status = 0;
                        toastr.success("关闭选课成功");
                        setTimeout(function () {
                            location.reload();
                        }, 1000)
                    }
                }
            })
        });
        $("#start_grade_register").click(function () {
           let data_obj = new FormData();
           data_obj.append('csrfmiddlewaretoken', $('[name="csrfmiddlewaretoken"]').val());
           $.ajax({
               url:'{% url 'StartGradePs' %}',
               data:data_obj,
               type:'post',
               dataType:'json',
               processData:false,
               contentType:false,
               success(res){
                   if (res.code === 0){
                       origin_grade_status = 1;
                       toastr.success('已开始登记成绩');
                       setTimeout(function () {
                           location.reload()
                       },1000)
                   }
               }
           })
        });
        $("#start_grade_register_exam").click(function () {
           let data_obj = new FormData();
           data_obj.append('csrfmiddlewaretoken', $('[name="csrfmiddlewaretoken"]').val());
           $.ajax({
               url:'{% url 'StartGradeKs' %}',
               data:data_obj,
               type:'post',
               dataType:'json',
               processData:false,
               contentType:false,
               success(res){
                   if (res.code === 0){
                       origin_grade_status_exam = 1;
                       toastr.success('已开始登记成绩');
                       setTimeout(function () {
                           location.reload()
                       },1000)
                   }
               }
           })
        });
        $("#stop_grade_register").click(function () {
            let data_obj = new FormData();
            data_obj.append('csrfmiddlewaretoken', $('[name="csrfmiddlewaretoken"]').val());
            $.ajax({
                url:'{% url 'StopGradePs' %}',
                data:data_obj,
                dataType:'json',
                type:'post',
                processData:false,
                contentType:false,
                success(res){
                    if (res.code === 0){
                        origin_grade_status = 0;
                        toastr.success('已停止登记成绩');
                        setTimeout(function () {
                            location.reload()
                        },1000)
                    }
                }
            })
        });
         $("#stop_grade_register_exam").click(function () {
            let data_obj = new FormData();
            data_obj.append('csrfmiddlewaretoken', $('[name="csrfmiddlewaretoken"]').val());
            $.ajax({
                url:'{% url 'StopGradeKs' %}',
                data:data_obj,
                dataType:'json',
                type:'post',
                processData:false,
                contentType:false,
                success(res){
                    if (res.code === 0){
                        origin_grade_status_exam = 0;
                        toastr.success('已停止登记成绩');
                        setTimeout(function () {
                            location.reload()
                        },1000)
                    }
                }
            })
        });
        $("#edit_semester").click(function () {
            $("#MyModal_semester_change").modal();
        });
        $("#edit_semester_confirm").click(function () {
            if (origin_status === 1){
                toastr.error("当前正在选课，无法修改")
            }
            else{
                let sems = $("#semester_change").val();
                let sems_ori = document.getElementById('semester_status').innerText;
                let data_obj = new FormData();
                data_obj.append('csrfmiddlewaretoken', $('[name="csrfmiddlewaretoken"]').val());
                data_obj.append('semester', sems);
                data_obj.append('semester_ori', sems_ori);
                $.ajax({
                    url:'{% url "Change_present_semester" %}',
                    type:'post',
                    data:data_obj,
                    dataType:'json',
                    processData:false,
                    contentType:false,
                    success(res){
                        if (res.code === 0){
                            toastr.success("编辑当前学期成功");
                            $("#semester_status").text(sems);
                            $("#MyModal_semester_change").modal('hide');
                            setTimeout(function () {
                                location.reload();
                            },1000)
                        }
                        else{
                            toastr.error("修改失败");
                        }
                    },
                    fail(){
                        toastr.error("修改失败")
                    }
                })
            }
        })
    </script>
</body>
</html>